## âœ” TO-DO

- ë¹„ë™ê¸° ì²˜ë¦¬ ì´í•´í•˜ê¸°

## ğŸ’¾ ë°°ìš´ ê²ƒ

## ğŸ“ ë©”ëª¨

[ë²¨ë¡œí¼íŠ¸ ëª¨ë˜ JS ë¹„ë™ê¸°](https://learnjs.vlpt.us/async/) <br />
[ë²¨ë¡œí¼íŠ¸ ëª¨ë˜ JS Promise](https://learnjs.vlpt.us/async/01-promise.html)

### Callback function

ì•„ë˜ ì½”ë“œëŠ”work í•¨ìˆ˜ê°€ ëë‚œ ë‹¤ìŒì— ì–´ë–¤ ì‘ì—…ì„ ì²˜ë¦¬í•˜ê³  ì‹¶ì„ë•Œ, ê·¸ë¦¬ê³  ì½œë°± í•¨ìˆ˜ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•´ì£¼ë©´ ë©ë‹ˆë‹¤.(ì•„ë˜ì½”ë“œì—ì„œ workì˜ íŒŒë¼ë¯¸í„°ì¸ callback)

```javascript
function work(callback) {
  setTimeout(() => {
    const start = Date.now();
    for (let i = 0; i < 900000000; i++) {}
    const end = Date.now();
    console.log(end - start + "ms"); // ì—¬ì„¯ë²ˆì§¸ì‹¤í–‰
    callback(end + end - start + "mms"); //callbackì˜ ()ì•ˆì˜ ê°’ì´ ì•„ë˜ì— ìˆëŠ” work(endTime)ë¡œ ì „ë‹¬
  }, 0);
}

console.log("ì‘ì—… ì‹œì‘!"); // ì²«ë²ˆì§¸ì‹¤í–‰
work((endTime) => {
  console.log(endTime); //endTimeì€ callback(end + end - start + "mms")ì˜ ê°’ì„ ì „ë‹¬ ë°›ì•„ ì¶œë ¥, ì¼ê³±ë²ˆì§¸ ì‹¤í–‰
  console.log("ì‘ì—…ì´ ëë‚¬ì–´ìš”"); // ì—¬ëŸë²ˆì§¸ ì‹¤í–‰
});
console.log("ë‹¤ìŒ ì‘ì—…"); // ë‘ë²ˆì§¸ì‹¤í–‰
console.log("ë‹¤ë‹¤ìŒ ì‘ì—…"); // ì„¸ë²ˆì§¸ì‹¤í–‰
console.log("ë‹¤ë‹¤ë‹¤ìŒ ì‘ì—…"); // ë„¤ë²ˆì§¸ì‹¤í–‰
console.log("ë‹¤ë‹¤ë‹¤ë‹¤ìŒ ì‘ì—…"); // ë‹¤ì„¯ë²ˆì§¸ì‹¤í–‰
```

### CallbackHell

```javascript
function work(callback) {
  setTimeout(() => {
    const start = Date.now();
    for (let i = 0; i < 900000000; i++) {}
    const end = Date.now();
    console.log(end - start + "mms");
    callback(end - start + "mms");
  }, 500);
}

console.log("ì‘ì—… ì‹œì‘!");

work(() => {
  work(() => {
    work(() => {
      work(() => {
        work(() => {
          work(() => {
            work(() => {
              console.log("ë");
            });
          });
        });
      });
    });
  });
});

ê²°ê³¼ê°’
ì‘ì—… ì‹œì‘!
786mms
787mms
526mms
516mms
521mms
521mms
523mms
ë
```

### Promise

```javascript
function increaseAndPrint(n) {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      const value = n + 1;
      if (value === 5) {
        const error = new Error();
        error.name = "ValueIsFiveError";
        reject(error);
        return;
      }
      console.log(value);
      resolve(value);
    }, 1000);
  });
}

increaseAndPrint(0)
  .then((n) => {
    return increaseAndPrint(n);
  })
  .then(increaseAndPrint)
  .then((n) => {
    return increaseAndPrint(n);
  })
  .then((n) => {
    return increaseAndPrint(n);
  })
  .then((n) => {
    return increaseAndPrint(n);
  })
  .catch((e) => {
    console.error(e);
  });
//  .then((n) => {return increaseAndPrint(n)}) ì™€ .then(increaseAndPrint)ëŠ” ê°™ìŒ
```
